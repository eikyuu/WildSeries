{% extends 'base.html.twig' %}

{% block title %}{{ program.title }}{% endblock %}

{% block body %}
<div class="container mt-5">
  <div class="media">
    <img class="align-self-start mr-3" src="{{program.poster}}" alt="{{ program.title }} poster">
    <div class="media-body">
      <h1 class="mt-0">{{ program.title }}</h1>
      <p>{{ program.synopsis }}</p>
      <p>Category: {{ program.category.name }}</p>
    </div>
  </div>
  <div class="container m-5">
    <h1>{{ program.title }}</h1>
    <h2>
        Seasons list:
    </h2>
    <ul>
    {% for season in seasons %}
        <li>
            <a href="{{ path('show_season', {seasonId: season.id}) }}">
                <b>
                    Season {{ season.number }}
                </b>
            </a>
            <p>
              <b>{{ season.year }}</b> - {{ season.description }}
            </p>
        </li>
    {% endfor %}
    </ul>
</div>
<strong>Acteur :</strong>
<ul>
    {% for actor in program.actors %}
        <li><a href="{{ path('actor_show', {'slug': actor.slug}) }}">{{ actor.slug }}</a></li>
    {% else %}
        <li>Aucun acteur pour cette série</li>
    {% endfor %}
</ul>    
  <a href="{{ path('app_index') }}">
      Back to home
  </a>
</div>
{% if is_granted('ROLE_ADMIN') %}
    <a href="{{ path('program_edit', { 'slug': program.slug} ) }}">Éditer</a>
{% endif %}   
{% endblock %}
